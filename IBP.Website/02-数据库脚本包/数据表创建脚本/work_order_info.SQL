--  -------------------------------------------------- 
--  Generated by Enterprise Architect Version 8.0.858
--  Created On : 星期一, 26 三月, 2012 
--  DBMS       : SQL Server 2008 
--  -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('workorder_info') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE workorder_info
;

CREATE TABLE workorder_info ( 
	work_order_id varchar(50) NOT NULL,    -- 主键ID 
	workorder_code varchar(50) NOT NULL,    -- 工单编号 
	workorder_type varchar(50) DEFAULT 0 NOT NULL,    -- 类型，0手机销售工单 
	now_status_id varchar(50) NOT NULL,    -- 当前状态 
	now_result_id varchar(50) NOT NULL,    -- 当前结果 
	first_process_userid varchar(50),    -- 开始处理人 
	first_process_time datetime,    -- 开始处理时间 
	now_process_userid varchar(50) NOT NULL,    -- 当前处理人 
	rel_usergroup_id varchar(50),    -- 关联的用户组ID 
	level varchar(50) NOT NULL,    -- 工单优先级ID 
	rel_customer_id varchar(50),    -- 关联客户 
	rel_order_id varchar(50),    -- 关联订单ID 
	rel_order_description varchar(200),    -- 关联订单描述 
	closed_user varchar(50),    -- 工单关闭用户ID 
	advance_time datetime,    -- 预约时间 
	expired_time datetime,    -- 过期时间 
	closed_time datetime,    -- 关闭时间 
	description varchar(max),    -- 工单描述 
	quality_check_status int DEFAULT 0 NOT NULL,    -- 质检状态，0待检，1已检 
	created_on datetime NOT NULL,
	created_by varchar(50),
	modified_on datetime,
	modified_by varchar(50),
	status_code int
)
;

ALTER TABLE workorder_info
	ADD CONSTRAINT UQ_work_order_info_workorder_code UNIQUE (workorder_code)
;

ALTER TABLE workorder_info ADD CONSTRAINT PK_work_order_info 
	PRIMARY KEY CLUSTERED (work_order_id)
;

EXEC sp_addextendedproperty 'MS_Description', '工单信息表', 'Schema', dbo, 'table', workorder_info
;
EXEC sp_addextendedproperty 'MS_Description', '主键ID', 'Schema', dbo, 'table', workorder_info, 'column', work_order_id
;

EXEC sp_addextendedproperty 'MS_Description', '工单编号', 'Schema', dbo, 'table', workorder_info, 'column', workorder_code
;

EXEC sp_addextendedproperty 'MS_Description', '类型，0手机销售工单', 'Schema', dbo, 'table', workorder_info, 'column', workorder_type
;

EXEC sp_addextendedproperty 'MS_Description', '当前状态', 'Schema', dbo, 'table', workorder_info, 'column', now_status_id
;

EXEC sp_addextendedproperty 'MS_Description', '当前结果', 'Schema', dbo, 'table', workorder_info, 'column', now_result_id
;

EXEC sp_addextendedproperty 'MS_Description', '开始处理人', 'Schema', dbo, 'table', workorder_info, 'column', first_process_userid
;

EXEC sp_addextendedproperty 'MS_Description', '开始处理时间', 'Schema', dbo, 'table', workorder_info, 'column', first_process_time
;

EXEC sp_addextendedproperty 'MS_Description', '当前处理人', 'Schema', dbo, 'table', workorder_info, 'column', now_process_userid
;

EXEC sp_addextendedproperty 'MS_Description', '关联的用户组ID', 'Schema', dbo, 'table', workorder_info, 'column', rel_usergroup_id
;

EXEC sp_addextendedproperty 'MS_Description', '工单优先级ID', 'Schema', dbo, 'table', workorder_info, 'column', level
;

EXEC sp_addextendedproperty 'MS_Description', '关联客户', 'Schema', dbo, 'table', workorder_info, 'column', rel_customer_id
;

EXEC sp_addextendedproperty 'MS_Description', '关联订单ID', 'Schema', dbo, 'table', workorder_info, 'column', rel_order_id
;

EXEC sp_addextendedproperty 'MS_Description', '关联订单描述', 'Schema', dbo, 'table', workorder_info, 'column', rel_order_description
;

EXEC sp_addextendedproperty 'MS_Description', '工单关闭用户ID', 'Schema', dbo, 'table', workorder_info, 'column', closed_user
;

EXEC sp_addextendedproperty 'MS_Description', '预约时间', 'Schema', dbo, 'table', workorder_info, 'column', advance_time
;

EXEC sp_addextendedproperty 'MS_Description', '过期时间', 'Schema', dbo, 'table', workorder_info, 'column', expired_time
;

EXEC sp_addextendedproperty 'MS_Description', '关闭时间', 'Schema', dbo, 'table', workorder_info, 'column', closed_time
;

EXEC sp_addextendedproperty 'MS_Description', '工单描述', 'Schema', dbo, 'table', workorder_info, 'column', description
;

EXEC sp_addextendedproperty 'MS_Description', '质检状态，0待检，1已检', 'Schema', dbo, 'table', workorder_info, 'column', quality_check_status
;






